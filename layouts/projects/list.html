{{ define "main" }}

  {{ if eq .Kind "taxonomy" }}
    <!-- HALAMAN: /projects/tags/ -->
    <header class="mb-12 border-b border-gray-700 pb-6">
      <a href="/projects/" class="inline-flex items-center mb-4 text-blue-400 hover:text-blue-300 font-medium transition duration-200">
        <i data-lucide="arrow-left" class="w-4 h-4 mr-1"></i>Kembali ke Projects
      </a>
      <h1 class="text-4xl font-extrabold text-white mb-2">{{ .Title }}</h1>
      <p class="text-gray-400 text-sm">{{ .Summary }}</p>
    </header>

    <section class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      {{ range .Data.Terms.Alphabetical }}
        <a href="{{ .Page.RelPermalink }}" 
           class="group block bg-gray-900 border border-gray-700 hover:border-blue-500 rounded-xl py-2 px-5 text-center transition">
          <h2 class="text-lg font-bold text-blue-400 group-hover:text-blue-300 mb-1">{{ .Page.Title }}</h2>
          <span class="text-xs text-gray-500">{{ .Count }} proyek</span>
        </a>
      {{ end }}
    </section>

  {{ else if eq .Kind "term" }}
    <!-- HALAMAN: /projects/tags/<nama-tag>/ -->
    <header class="mb-12 border-b border-gray-700 pb-6">
      <a href="/projects/tags/" class="inline-flex items-center mb-4 text-blue-400 hover:text-blue-300 font-medium transition duration-200">
        <i data-lucide="arrow-left" class="w-4 h-4 mr-1"></i>Kembali ke Semua Tag
      </a>
      <h1 class="text-4xl font-extrabold text-white mb-2">Tag: {{ .Title }}</h1>
      <p class="text-gray-400 text-sm">Kumpulan proyek dengan tag <strong>{{ .Title }}</strong>.</p>
    </header>

    <section class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      {{ range .Pages }}
        <a href="{{ .RelPermalink }}" 
           class="block bg-gray-900 border border-gray-700 rounded-xl py-2 px-5 hover:border-blue-500 transition">
          {{ with .Params.thumbnail }}
            <img src="{{ . }}" alt="{{ $.Title }}" class="rounded-lg mb-4">
          {{ end }}
          <h2 class="text-xl font-bold text-blue-400 mb-2">{{ .Title }}</h2>
          {{ with .Params.summary }}
            <p class="text-sm text-gray-400 mb-3">{{ . }}</p>
          {{ end }}
        </a>
      {{ end }}
    </section>

  {{ else }}
    <!-- HALAMAN: /projects/ -->
    <header class="mb-10 border-b border-gray-700 pb-6">
      <a href="/" class="inline-flex items-center mb-4 text-blue-400 hover:text-blue-300 font-medium transition duration-200">
        <i data-lucide="arrow-left" class="w-4 h-4 mr-1"></i>Kembali ke Halaman Utama
      </a>
      <h1 class="text-4xl font-extrabold text-white mb-2">{{ .Title }}</h1>
      {{ with .Params.summary }}
        <p class="text-lg text-gray-400">{{ . }}</p>
      {{ end }}
    </header>

    <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
      {{ range .Pages }}
        <a href="{{ .RelPermalink }}" 
           class="block bg-gray-900 border border-gray-700 rounded-xl p-6 hover:border-blue-500 transition">
          {{ with .Params.thumbnail }}
            <img src="{{ . }}" alt="{{ $.Title }}" class="rounded-lg mb-4">
          {{ end }}
          <h2 class="text-xl font-bold text-blue-400 mb-2">{{ .Title }}</h2>
          <p class="text-sm text-gray-400 mb-3">{{ .Params.summary }}</p>
        </a>
      {{ end }}
    </section>
  {{ end }}

{{ end }}
